(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ca47d01"],{"11fb":function(e,t,r){"use strict";r("1543")},1543:function(e,t,r){},37906:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",{staticClass:"title"},[e._v("Search Recipe!")]),e.lastSearch?r("p",{attrs:{id:"lastSearchP"}},[e._v(" ðŸ”Ž Your Last Search Was:Â Â  "),r("b",[r("i",[e._v(e._s(e.lastSearch))])]),e._v("Â Â ðŸ”Ž ")]):e._e(),r("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSearch.apply(null,arguments)},reset:function(t){return t.preventDefault(),e.onReset.apply(null,arguments)}}},[r("b-form-group",{attrs:{id:"input-group-query","label-cols-sm":"3",label:"What do you want to cook?:","label-for":"query"}},[r("b-form-input",{attrs:{id:"query",type:"text",state:e.validateState("query")},model:{value:e.$v.form.query.$model,callback:function(t){e.$set(e.$v.form.query,"$model",t)},expression:"$v.form.query.$model"}}),e.$v.form.query.length?e._e():r("b-form-invalid-feedback",[e._v(" Query must be non-empty! ")])],1),r("div",[r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],attrs:{variant:"primary"}},[e._v("Filter")]),r("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[r("b-card",[r("b-form-group",{attrs:{id:"input-group-CuisineGroup","label-cols-sm":"3",label:"Cuisine:","label-for":"cuisine"}},[r("b-form-select",{attrs:{id:"cuisine",options:e.cuisines},model:{value:e.$v.form.cuisine.$model,callback:function(t){e.$set(e.$v.form.cuisine,"$model",t)},expression:"$v.form.cuisine.$model"}})],1),r("b-form-group",{attrs:{id:"input-group-DietGroup","label-cols-sm":"3",label:"Diet:","label-for":"diet"}},[r("b-form-select",{attrs:{id:"diet",options:e.diets},model:{value:e.$v.form.diet.$model,callback:function(t){e.$set(e.$v.form.diet,"$model",t)},expression:"$v.form.diet.$model"}})],1),r("b-form-group",{attrs:{id:"input-group-IntoleranceGroup","label-cols-sm":"3",label:"Intolerance:","label-for":"intolerance"}},[r("b-form-select",{attrs:{id:"intolerance",options:e.intolerances},model:{value:e.$v.form.intolerance.$model,callback:function(t){e.$set(e.$v.form.intolerance,"$model",t)},expression:"$v.form.intolerance.$model"}})],1)],1),r("b-card",[r("b-form-select",{staticClass:"mt-3",attrs:{options:e.sortOptions,value:"form.sort",size:"sm"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1)],1),r("b-form-group",{attrs:{label:"Please choose number of returned results:"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.ariaDescribedby;return[r("b-form-radio-group",{attrs:{options:e.amountOptions,"aria-describedby":a,name:"plain-inline",plain:""},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})]}}])}),r("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reset")]),r("b-button",{staticClass:"ml-5 w-75",staticStyle:{width:"250px"},attrs:{type:"submit",variant:"primary"}},[e._v("Search")])],1),e.form.submitError?r("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Search failed: "+e._s(e.form.submitError)+" ")]):e._e(),e.searchClicked&&e.recipes.length>0?r("RecipePreviewList",{key:e.searchClicked,attrs:{title:"Search Results",state:"search",recipesData:e.recipes}}):e._e(),r("b-modal",{attrs:{id:"noResultsModal",title:"Not Found Any Recipe!"}},[e._v("There is no recipe that meets the search requirements. Please search again more accurately! ")])],1)},s=[],i=r("c7eb"),o=r("1da1"),n=r("2909"),l=(r("4160"),r("d3b7"),r("159b"),r("b5ae")),c=r("99d8"),u=["African","American","British","Cajun","Caribbean","Chinese","Eastern European","European","French","German","Greek","Indian","Irish","Italian","Japanese","Jewish","Korean","Latin American","Mediterranean","Mexican","Middle Eastern","Nordic","Southern","Spanish","Thai","Vietnamese"],m=["Gluten Free","Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescetarian","Paleo","Primal","Low FODMAP","Whole30"],d=["Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat"],p={name:"search",components:{RecipePreviewList:c["a"]},data:function(){return{form:{query:"",cuisine:"",diet:"",intolerance:"",number:5,sort:"",submitError:void 0},cuisines:[{value:null,text:"",disabled:!0}],diets:[{value:null,text:"",disabled:!0}],intolerances:[{value:null,text:"",disabled:!0}],amountOptions:[{text:"5",value:5},{text:"10",value:10},{text:"15",value:15}],sortOptions:[{value:"",text:"Sort By",disabled:!0},{value:"time",text:"Time"},{value:"popularity",text:"Popularity"}],lastSearch:"",errors:[],validated:!1,searchClicked:0,recipes:[]}},mounted:function(){var e,t,r;(e=this.cuisines).push.apply(e,Object(n["a"])(u)),(t=this.diets).push.apply(t,Object(n["a"])(m)),(r=this.intolerances).push.apply(r,Object(n["a"])(d)),this.lastSearch=localStorage.getItem("lastSearch")},validations:{form:{query:{required:l["required"],alpha:l["alpha"]},cuisine:{alpha:l["alpha"]},diet:{alpha:l["alpha"]},intolerance:{alpha:l["alpha"]}}},methods:{validateState:function(e){var t=this.$v.form[e],r=t.$dirty,a=t.$error;return r?!a:null},Search:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var r,a,s,o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={},s=["query","cuisine","diet","intolerance","number","sort"],s.forEach((function(t){e.form[t]&&(a[t]=e.form[t])})),t.next=6,e.axios.get(e.$root.store.server_domain+"/recipes/SearchRecipes",{params:a});case 6:o=t.sent,(r=e.recipes).push.apply(r,Object(n["a"])(o.data)),e.searchClicked+=1,0==o.data.length&&e.$bvModal.show("noResultsModal"),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0.response),e.form.submitError=t.t0.response.data.message;case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()},onSearch:function(){this.$v.form.$touch(),this.$v.form.$anyError||(this.recipes=[],localStorage.setItem("lastSearch",this.form["query"]),this.lastSearch=this.form["query"],this.Search())},onReset:function(){var e=this;this.form={query:"",cuisine:"",diet:"",intolerance:"",number:5,sort:"",submitError:void 0},this.errors=[],this.validated=!1,this.searchClicked=0,this.recipes=[],this.$nextTick((function(){e.$v.$reset()}))}}},h=p,b=(r("11fb"),r("2877")),f=Object(b["a"])(h,a,s,!1,null,"d2978cee",null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-4ca47d01.bf3f5925.js.map